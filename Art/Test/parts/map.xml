<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE art SYSTEM "../../Adapter/Map/Loader/Xml.dtd" >
<art>
    <attributeTypes>
        <attributeType alias="email" class="email" options="'lookup':false" databaseType="VARCHAR" length="255"/>
        <attributeType alias="date"  class="date"  options="'today':true" databaseType="DATE" length="false"/>
    </attributeTypes>
    
    <classes>
        <class name="contact" databaseTable="Tcontact">
            <attribute name="firstName"/>
        </class>
        <class name="employee" identity="login,type">
            <inherit from="contact"/>
            <attribute name="login" type="email" />            
            <attribute name="type" />
            <attribute name="photo" mandatory="true" />
            
            <associated to="address"      class="employeeAddress"  composition="true"  name="hasAddress" databaseTable="emp2add" />
            <associated to="telephone"    reference="external"     composition="true"  min="2" max="3"/>
            <associated to="login"        reference="internal"     composition="true"  />
            <associated to="photo"      cardinality="one-to-many"  composition="true"  class="employeeOffice"  name="works"/>
            <associated to="office"     cardinality="one-to-many"                        />
            <associated to="car"        cardinality="many-to-many"                                            class="employeeUses"  />
            <associated to="customer"   cardinality="many-to-many"  />
        </class>
        <!-- association classes -->
        <class name="employeeAddress" association="true">
            <attribute name="name"/>
        </class>
        <class name="employeeOffice" association="true">
            <attribute name="since" type="date"/>
        </class>
        <class name="employeeUses" association="true">
            <attribute name="lastUsed" type="date"/>
        </class>
    </classes>
</art>
